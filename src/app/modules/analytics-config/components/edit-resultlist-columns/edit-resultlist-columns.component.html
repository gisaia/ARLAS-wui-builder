<div class="columns-wrapper">
    <div *ngFor="let column of columns; let i = index" class="column">
        <button mat-icon-button (click)="deleteColumn(i)">
            <mat-icon>delete</mat-icon>
        </button>
        <div class="flex1">
            <arlas-config-form-control [control]="column.controls.columnName"></arlas-config-form-control>
        </div>
        <div class="flex1">
            <arlas-config-form-control [control]="column.controls.fieldName"></arlas-config-form-control>
        </div>
        <div class="flex1">
            <arlas-config-form-control [control]="column.controls.dataType"></arlas-config-form-control>
        </div>
        <div class="flex1">
            <arlas-config-form-control [control]="column.controls.process"></arlas-config-form-control>
        </div>
        <arlas-config-form-control [control]="column.controls.useColorService"></arlas-config-form-control>
        <arlas-config-form-control *ngIf="column.controls.useColorService.value"
            [control]="column.controls.keysToColorsButton"></arlas-config-form-control>
    </div>
</div>

<mat-error *ngIf="control.touched && control?.hasError('required')">{{'At least one column is required' | translate}}
</mat-error>
<div class="button-wrapper">
    <button mat-stroked-button color="primary" (click)="addColumn(collection.value)"
        [matTooltip]="'Add a column' | translate" type="button">
        <mat-icon>add</mat-icon>
        {{'Add a column' | translate}}
    </button>
</div>