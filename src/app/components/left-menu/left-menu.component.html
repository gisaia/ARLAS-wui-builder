<div class="menu_container" [class.hide-label]="!isLabelDisplayed">
  <div class="logo">
    <a matTooltip="Back to home page" [routerLink]="['/']" queryParamsHandling="preserve">
      <img src="assets/img/logo-only.png" />
    </a>
    <span>ARLAS Builder</span>
  </div>

  <div>
    <mat-nav-list>
      <mat-list-item *ngFor="let page of pages" [matTooltip]="page?.tooltip" [routerLink]="page?.link" routerLinkActive="active-menu"
        queryParamsHandling="preserve">
        <button mat-icon-button [disabled]="!page?.enabled" routerLinkActive="mat-accent">
          <mat-icon [matBadge]="nbErrorsByPage.get(page.name)" [matBadgeHidden]="!nbErrorsByPage.get(page.name)"
            matBadgePosition="above before" matBadgeColor="warn">
            {{ page?.icon }}</mat-icon>
          <span>{{ page?.name }} </span>
        </button>
      </mat-list-item>
    </mat-nav-list>
  </div>

  <div>
    <div class="action-list">
      <mat-nav-list>
        <mat-divider></mat-divider>
        <mat-list-item matTooltip="{{'Save' | translate}}" (click)="save($event)"
          [class.disabled-item]="!this.persistenceService.isAvailable">
          <button mat-icon-button>
            <mat-icon>save</mat-icon>
            <span>{{'Save' | translate}}</span>
          </button>
        </mat-list-item>
        <mat-list-item matTooltip="{{'Download configuration files' | translate}}" (click)="export()">
          <button mat-icon-button>
            <mat-icon>save_alt</mat-icon>
            <span>{{'Download' | translate}}</span>
          </button>
        </mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item *ngIf="showLogOutButton" matTooltip="{{'User info' | translate}}" (click)="getUserInfos()">
          <button mat-icon-button>
            <img src="{{avatar}}" class="user_avatar">
            <span class="user_name">{{name}}</span>
          </button>
        </mat-list-item>
        <mat-list-item *ngIf="showLogOutButton" matTooltip="{{'Log Out' | translate}}" (click)="logout()">
          <button mat-icon-button>
            <mat-icon>lock_open</mat-icon>
            <span>{{'Log Out' | translate}}</span>
          </button>
        </mat-list-item>
      </mat-nav-list>
    </div>
    <div class="toggler">
      <button mat-icon-button (click)="expand()" [matTooltip]="isLabelDisplayed? 'reduce' : 'expand'">
        <mat-icon>{{ isLabelDisplayed ? 'arrow_left' : 'arrow_right' }}</mat-icon>
      </button>
    </div>
  </div>
</div>